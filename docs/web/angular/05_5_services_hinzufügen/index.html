<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.81.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Services | IT Ninjas</title><meta property="og:title" content="Services"><meta property="og:description" content="Dienste hinzufügen Die Tour of Heroes HeroesComponent holt sich derzeit falsche Daten und zeigt sie an.
Nach dem Refactoring in diesem Tutorial wird HeroesComponent schlank sein und sich auf die Unterstützung der Ansicht konzentrieren. Es wird auch einfacher sein, Unit-Tests mit einem Mock-Service durchzuführen.
 Die Beispielanwendung, die auf dieser Seite beschrieben wird, finden Sie unter dieser Seite.
 Warum Dienste Komponenten sollten keine Daten direkt abrufen oder speichern und schon gar nicht wissentlich gefälschte Daten präsentieren."><meta property="og:type" content="article"><meta property="og:url" content="/docs/web/angular/05_5_services_hinzuf%C3%BCgen/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-03-14T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-14T00:00:00+00:00"><meta property="og:site_name" content="IT Ninjas"><meta itemprop=name content="Services"><meta itemprop=description content="Dienste hinzufügen Die Tour of Heroes HeroesComponent holt sich derzeit falsche Daten und zeigt sie an.
Nach dem Refactoring in diesem Tutorial wird HeroesComponent schlank sein und sich auf die Unterstützung der Ansicht konzentrieren. Es wird auch einfacher sein, Unit-Tests mit einem Mock-Service durchzuführen.
 Die Beispielanwendung, die auf dieser Seite beschrieben wird, finden Sie unter dieser Seite.
 Warum Dienste Komponenten sollten keine Daten direkt abrufen oder speichern und schon gar nicht wissentlich gefälschte Daten präsentieren."><meta itemprop=datePublished content="2022-03-14T00:00:00+00:00"><meta itemprop=dateModified content="2022-03-14T00:00:00+00:00"><meta itemprop=wordCount content="2188"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Services"><meta name=twitter:description content="Dienste hinzufügen Die Tour of Heroes HeroesComponent holt sich derzeit falsche Daten und zeigt sie an.
Nach dem Refactoring in diesem Tutorial wird HeroesComponent schlank sein und sich auf die Unterstützung der Ansicht konzentrieren. Es wird auch einfacher sein, Unit-Tests mit einem Mock-Service durchzuführen.
 Die Beispielanwendung, die auf dieser Seite beschrieben wird, finden Sie unter dieser Seite.
 Warum Dienste Komponenten sollten keine Daten direkt abrufen oder speichern und schon gar nicht wissentlich gefälschte Daten präsentieren."><link rel=preload href=/scss/main.min.2e508d50c309caf6b624045a1bfc7c88aebb401664f660d94eac5645d1bdb1e7.css as=style><link href=/scss/main.min.2e508d50c309caf6b624045a1bfc7c88aebb401664f660d94eac5645d1bdb1e7.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><link rel=preload href=/scss/site.min.df1ee6f0d5eb5b56e1604699631bb11dc73d78fb9e177b16bc70509dcab22a30.css as=style><link href=/scss/site.min.df1ee6f0d5eb5b56e1604699631bb11dc73d78fb9e177b16bc70509dcab22a30.css rel=stylesheet integrity></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 223.6460266 237.5482483" style="enable-background:new 0 0 223.6460266 237.5482483;" xml:space="preserve">
<style type="text/css">
	.st0{enable-background:new    ;}
	.st1{fill:#A1A0A6;}
	.st2{fill:#5D5D60;}
	.st3{fill:#696769;}
	.st4{fill:#414041;}
	.st5{fill:#3C3B3C;}
	.st6{clip-path:url(#SVGID_2_);enable-background:new    ;}
	.st7{fill:#5B5A5E;}
	.st8{fill:#5F5E61;}
	.st9{fill:#626165;}
	.st10{fill:#666568;}
	.st11{fill:#69686C;}
	.st12{fill:#6D6C70;}
	.st13{fill:#706F73;}
	.st14{fill:#747377;}
	.st15{fill:#77767A;}
	.st16{fill:#7A7A7E;}
	.st17{fill:#7E7D80;}
	.st18{fill:#808083;}
	.st19{fill:#838287;}
	.st20{fill:#87868A;}
	.st21{fill:#8A898E;}
	.st22{fill:#8E8D92;}
	.st23{fill:#919095;}
	.st24{fill:#959499;}
	.st25{fill:#98979C;}
	.st26{fill:#9C9BA0;}
	.st27{fill:#9F9EA4;}
	.st28{fill:#A2A2A7;}
	.st29{fill:#A6A5AB;}
	.st30{fill:#A9A9AE;}
	.st31{fill:#ADACB2;}
	.st32{fill:#B7B6BB;}
	.st33{fill:#BBBABF;}
	.st34{fill:#BEBDC2;}
	.st35{fill:#C0BFC4;}
	.st36{fill:#C2C2C6;}
	.st37{fill:#C5C4C8;}
	.st38{clip-path:url(#SVGID_4_);enable-background:new    ;}
	.st39{fill:#434243;}
	.st40{fill:#454445;}
	.st41{fill:#484648;}
	.st42{fill:#4A494A;}
	.st43{fill:#4C4B4C;}
	.st44{fill:#4E4D4E;}
	.st45{fill:#514F51;}
	.st46{fill:#535153;}
	.st47{fill:#555455;}
	.st48{fill:#575657;}
	.st49{fill:#5A585A;}
	.st50{fill:#5C5A5C;}
	.st51{fill:#5E5C5E;}
	.st52{fill:#605F60;}
	.st53{fill:#636163;}
	.st54{fill:#656365;}
	.st55{fill:#676567;}
	.st56{fill:#6C6A6C;}
	.st57{fill:#6E6C6E;}
	.st58{fill:#706E70;}
	.st59{fill:#807F80;}
	.st60{fill:#868586;}
	.st61{fill:#8C8A8C;}
	.st62{fill:#908F90;}
	.st63{fill:#949394;}
	.st64{fill:#989798;}
	.st65{fill:#3F3E3F;}
	.st66{fill:#3A393A;}
	.st67{fill:#686868;}
	.st68{fill:#666569;}
	.st69{fill:#C2C2C4;}
	.st70{clip-path:url(#SVGID_6_);enable-background:new    ;}
	.st71{clip-path:url(#SVGID_8_);enable-background:new    ;}
	.st72{opacity:0.5;clip-path:url(#SVGID_10_);fill:#FFFFFF;}
	.st73{fill:#4D4D4F;}
	.st74{fill:#E4D0BF;}
	.st75{fill:#39393A;}
	.st76{fill:#0B0B0B;}
	.st77{fill:#9B5467;}
	.st78{fill:#FFFFFF;}
	.st79{fill:#FFB000;}
</style>
<g id="Ebene_1">
</g>
<g id="board">
</g>
<g id="textur">
</g>
<g id="ninja">
	<g>
		<g>
			<g>
				<path class="st74" d="M191.321701,38.4563141c0,0-2.3199005-11.0195293-13.3394318-17.3992558      c-11.019516-6.3797283-15.0793457-11.5995045-28.7087708-13.919405      c-13.6294098-2.3199005-18.8491821-7.5396776-50.1678467-5.7997518S9.2094965-5.0418262,3.9897194,64.5551987      S1.0898435,163.730957,6.8895955,185.7700043c8.7694645,33.3239746,60.317421,41.1782532,111.0652466,49.8778687      c50.7478256,8.6996307,102.3656235-61.4773712,103.5255814-78.8766174      C222.6403656,139.371994,215.1006927,68.6150208,191.321701,38.4563141z"/>
				<path d="M82.7039795,91.859314c0.8321075-3.7693558-0.2818756-7.724556-3.0373154-10.427887      c-2.6432571-2.5932693-6.3455353-5.2930832-10.4984055-5.5897141      c-8.2016716-0.5858307-16.4033394-3.5149994-20.5041733,3.5149994      c-4.1008339,7.0300064-7.6158371,33.9783478,7.0300026,35.1500092      c14.6458397,1.171669,20.5041695-0.5858307,23.4333382-9.3733292      C80.6758881,100.4880066,81.8969193,95.5151978,82.7039795,91.859314z"/>
				<path d="M154.5452423,65.5933838c0,0-16.4033356-2.3433342-17.5750122,5.2724991      c-1.1716614,7.6158371,0,28.1200104,11.7166748,31.6350098c11.7166748,3.515007,25.7766724,1.171669,25.1908417-9.9591675      S167.3770294,66.0947037,154.5452423,65.5933838z"/>
				<path class="st76" d="M25.7209854,173.5336761c0,0,59.8187485,5.8583374,102.5845871-1.1716766      c42.7658539-7.0299988,81.4308624-29.8775024,81.4308624-29.8775024s-26.3625031,57.4116821-84.3600235,58.5833435      C67.378891,202.2395172,25.0714226,179.3920135,25.7209854,173.5336761z"/>
				<path class="st77" d="M91.3980713,184.0786743c0,0,65.0275116-7.6158295,62.0983429-1.1716614      c-2.9291534,6.4441681-13.5452728,13.4741669-35.7713928,14.0599976S91.3980713,184.0786743,91.3980713,184.0786743z"/>
			</g>
			<path class="st75" d="M194.5106354,35.823864c0,0-13.7452545-23.1620255-43.9007721-30.4930191     c-13.325592-3.2395306-20.3384857-5.9582276-51.5960312-5.203896C67.3392639,0.891345,8.2097073-6.3172555,2.9372053,63.982769     s-2.929096,100.1775208,2.9290962,122.4392395c8.8580856,33.6605682,60.9268265,41.594101,112.1871872,50.3816071     s104.3210526-62.7527161,105.4926376-80.3277283C224.7177277,138.9008942,215.6165924,72.0784683,194.5106354,35.823864z      M199.7772675,115.8602524c-3.5149994,19.0707626-182.7800598,17.8367386-188.0525513,12.5642319     c-5.2725019-5.2724915-1.7575006-52.7250137,10.5450039-64.6064835s117.752533-17.9960365,117.752533-17.9960365     s31.5424347-4.7837639,44.3151093,4.4426498C195.6073761,58.4055939,203.2922668,96.7894821,199.7772675,115.8602524z"/>
			<circle class="st78" cx="66.7038345" cy="90.0950317" r="7.9083571"/>
			<circle class="st78" cx="158.9680023" cy="78.5576935" r="7.9083571"/>
		</g>
	</g>
</g>
</svg></span><span class="text-uppercase font-weight-bold">IT Ninjas</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Docs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/labs/><span>Labs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/exams/><span>Exams</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/challenges/><span>Challenges</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e8ab514fa9fd70c837b0f642c6b7965d.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e8ab514fa9fd70c837b0f642c6b7965d.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><span class=tree-root><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docs>Docs</a></span><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsjava-li><span><a href=/docs/java/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsjava>Java</a></span><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavaentwicklungsumgebung-li><span><a href=/docs/java/entwicklungsumgebung/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavaentwicklungsumgebung>Entwicklungsumgebung einrichten</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavaintellij-einrichten-li><span><a href=/docs/java/intellij-einrichten/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavaintellij-einrichten>IntelliJ IDEA - einrichten</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-grundlagen-li><span><a href=/docs/java/java-grundlagen/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-grundlagen>Java Grundlagen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-oop-li><span><a href=/docs/java/java-oop/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-oop>Objektorientierte Programmierung</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-lists-and-streams-basics-li><span><a href=/docs/java/java-lists-and-streams-basics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-lists-and-streams-basics>Java Lists und Streams Basics</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-generics-li><span><a href=/docs/java/java-generics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-generics>Java Generics Grundlagen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-ood-li><span><a href=/docs/java/java-ood/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-ood>Objektorientiertes Design</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-testing-li><span><a href=/docs/java/java-testing/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-testing>Testing</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavaexception_handling-li><span><a href=/docs/java/exception_handling/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavaexception_handling>Exception Handling</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavajava-collectionsjava-collections-li><span><a href=/docs/java/java-collections/java-collections/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavajava-collectionsjava-collections>Java Collections</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavamaven-li><span><a href=/docs/java/maven/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavamaven>Maven</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavareflection-li><span><a href=/docs/java/reflection/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavareflection>Annotationen + Reflection</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavaoverview-li><span><a href=/docs/java/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavaoverview>Overview Lab</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsjavaspring_introduction-li><span><a href=/docs/java/spring_introduction/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsjavaspring_introduction>Spring Framework Introduction</a></span></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsgit-li><span><a href=/docs/git/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsgit>Git</a></span><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitwas-ist-git-li><span><a href=/docs/git/was-ist-git/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitwas-ist-git>Was ist Git</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitgit-install-li><span><a href=/docs/git/git-install/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitgit-install>Install Git</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitgit-basics-li><span><a href=/docs/git/git-basics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitgit-basics>Git Basics</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitgit-extended-li><span><a href=/docs/git/git-extended/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitgit-extended>Git Erweitert</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitgit-branches-li><span><a href=/docs/git/git-branches/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitgit-branches>Git Branches</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgitgit-hub-li><span><a href=/docs/git/git-hub/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docsgitgit-hub>GitHub</a></span></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsweb-li><span><a href=/docs/web/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docsweb>Web</a></span><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docswebide-li><span><a href=/docs/web/ide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docswebide>Frontend IDE</a></span><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebide01_ide_tools-li><span><a href=/docs/web/ide/01_ide_tools/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebide01_ide_tools>IDE und Tools</a></span></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docswebhtml_css-li><span><a href=/docs/web/html_css/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docswebhtml_css>HTML und CSS</a></span><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css01_html_intro-li><span><a href=/docs/web/html_css/01_html_intro/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css01_html_intro>HTML</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css02_html_first_code-li><span><a href=/docs/web/html_css/02_html_first_code/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css02_html_first_code>Erste Seite erstellen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css03_html_basics-li><span><a href=/docs/web/html_css/03_html_basics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css03_html_basics>Basics zu HTML</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css04_weitere_tags-li><span><a href=/docs/web/html_css/04_weitere_tags/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css04_weitere_tags>Weitere HTML-Tags</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css05_forms-li><span><a href=/docs/web/html_css/05_forms/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css05_forms>HTML Formulare</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css06_html_structure-li><span><a href=/docs/web/html_css/06_html_structure/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css06_html_structure>HTML-Struktur</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css07_html_5_semantic_tags-li><span><a href=/docs/web/html_css/07_html_5_semantic_tags/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css07_html_5_semantic_tags>HTML5 Semantic Tags</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css08_html_finish-li><span><a href=/docs/web/html_css/08_html_finish/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css08_html_finish>HTML Rekapitulieren</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css10_css_intro-li><span><a href=/docs/web/html_css/10_css_intro/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css10_css_intro>CSS</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css11_css_basics-li><span><a href=/docs/web/html_css/11_css_basics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css11_css_basics>CSS-Grundlagen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css12_css_selectors-li><span><a href=/docs/web/html_css/12_css_selectors/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css12_css_selectors>CSS-Selektoren</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css13_css_fonts-li><span><a href=/docs/web/html_css/13_css_fonts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css13_css_fonts>Schriftarten</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css14_css_colors-li><span><a href=/docs/web/html_css/14_css_colors/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css14_css_colors>Farben</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css15_css_sizing-li><span><a href=/docs/web/html_css/15_css_sizing/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css15_css_sizing>Sizing</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css16_layouting-li><span><a href=/docs/web/html_css/16_layouting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css16_layouting>Layouting</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css17_css_positioning-li><span><a href=/docs/web/html_css/17_css_positioning/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css17_css_positioning>Positionierung</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css18_css_finish-li><span><a href=/docs/web/html_css/18_css_finish/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css18_css_finish>Abschluss</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhtml_css19_css_bootstrap-li><span><a href=/docs/web/html_css/19_css_bootstrap/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebhtml_css19_css_bootstrap>Bootstrap</a></span></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docswebjavascript-li><span><a href=/docs/web/javascript/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docswebjavascript>JavaScript</a></span><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript01_js_intro-li><span><a href=/docs/web/javascript/01_js_intro/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript01_js_intro>Intro</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript02_js_browser_tools-li><span><a href=/docs/web/javascript/02_js_browser_tools/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript02_js_browser_tools>Konsole</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript03_js_dom_manipulation-li><span><a href=/docs/web/javascript/03_js_dom_manipulation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript03_js_dom_manipulation>DOM-Manipulation</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript04_js_training-li><span><a href=/docs/web/javascript/04_js_training/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript04_js_training>JavaScript trainieren</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript05_js_async-li><span><a href=/docs/web/javascript/05_js_async/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript05_js_async>Asynchrone Anfragen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebjavascript06_js_timeout_and_interval-li><span><a href=/docs/web/javascript/06_js_timeout_and_interval/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebjavascript06_js_timeout_and_interval>Timeouts und Intervalle</a></span></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docswebangular-li><span><a href=/docs/web/angular/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-docswebangular>Angular</a></span><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular02_javascript_frameworks-li><span><a href=/docs/web/angular/02_javascript_frameworks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular02_javascript_frameworks>Javascript Frameworks</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular03_1_intro_typescript-li><span><a href=/docs/web/angular/03_1_intro_typescript/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular03_1_intro_typescript>Einführung in TypeScript</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_1_einfc3bchrung_angular-li><span><a href=/docs/web/angular/04_1_einf%C3%BChrung_angular/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_1_einfc3bchrung_angular>Einführung Angular</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_2_components_und_templates-li><span><a href=/docs/web/angular/04_2_components_und_templates/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_2_components_und_templates>Components und Templates</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_3_services_und_dependency_injection-li><span><a href=/docs/web/angular/04_3_services_und_dependency_injection/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_3_services_und_dependency_injection>Services und Dependency Injection</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_4_pipes-li><span><a href=/docs/web/angular/04_4_pipes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_4_pipes>Pipes</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_6_interceptors-li><span><a href=/docs/web/angular/04_6_interceptors/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_6_interceptors>Interceptors</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_7_angular_material-li><span><a href=/docs/web/angular/04_7_angular_material/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_7_angular_material>Angular Material</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_8_lazy_loading-li><span><a href=/docs/web/angular/04_8_lazy_loading/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_8_lazy_loading>Lazy Loading</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_1_tour_of_heroes-li><span><a href=/docs/web/angular/05_1_tour_of_heroes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_1_tour_of_heroes>Projekt aufsetzen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_2_editor-li><span><a href=/docs/web/angular/05_2_editor/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_2_editor>Editor</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_3_selection_list-li><span><a href=/docs/web/angular/05_3_selection_list/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_3_selection_list>Auswahlliste</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_4_feature_component-li><span><a href=/docs/web/angular/05_4_feature_component/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_4_feature_component>Komponenten</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docswebangular05_5_services_hinzufc3bcgen-li><span class=td-sidebar-nav-active-item><a href=/docs/web/angular/05_5_services_hinzuf%C3%BCgen/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_5_services_hinzufc3bcgen>Services</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_6_navigation_routing-li><span><a href=/docs/web/angular/05_6_navigation_routing/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_6_navigation_routing>Navigation mit Routing</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular05_7_data_server-li><span><a href=/docs/web/angular/05_7_data_server/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular05_7_data_server>Daten von einem Server abrufen</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangulartake_aways-li><span><a href=/docs/web/angular/take_aways/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangulartake_aways>Heroes Tour: Take-aways</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular06_1_einfuehrung_jwt-li><span><a href=/docs/web/angular/06_1_einfuehrung_jwt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular06_1_einfuehrung_jwt>Json Web Token Authorisation (JWT)</a></span></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebangular04_5_routing-li><span><a href=/docs/web/angular/04_5_routing/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-docswebangular04_5_routing></a></span></li></ul></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/it-ninjas/labs/edit/master/content/en/docs/web/angular/05_5_Services_hinzuf%c3%bcgen.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/it-ninjas/labs/new/master/content/en/docs/web/angular/05_5_Services_hinzuf%c3%bcgen.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href="https://github.com/it-ninjas/labs/issues/new?title=Services" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#warum-dienste>Warum Dienste</a></li><li><a href=#erstelle-den-heroservice>Erstelle den <code>HeroService</code></a><ul><li><a href=#injectablehttpsangularioapicoreinjectable-dienste><a href=https://angular.io/api/core/Injectable><code>@Injectable()</code></a> Dienste</a></li><li><a href=#heldendaten-erhalten>Heldendaten erhalten</a></li></ul></li><li><a href=#bereitstellen-des-heroservice>Bereitstellen des <code>HeroService</code></a></li><li><a href=#update-heroescomponent>Update <code>HeroesComponent</code></a><ul><li><a href=#a-idinject-message-serviceainject-the-heroservice><a id=#inject-message-service></a>Inject the <code>HeroService</code></a></li><li><a href=#hinzufügen-von-getheroes>Hinzufügen von <code>getHeroes()</code></a></li><li><a href=#aufruf-in-ngoninit>Aufruf in <code>ngOnInit()</code></a></li><li><a href=#sehen-wie-es-läuft>Sehen, wie es läuft</a></li></ul></li><li><a href=#beobachtbare-daten>Beobachtbare Daten</a><ul><li><a href=#observable-heroservice>Observable <code>HeroService</code></a></li><li><a href=#abonnieren-in-heroescomponent>Abonnieren in <code>HeroesComponent</code></a></li></ul></li><li><a href=#nachrichten-anzeigen>Nachrichten anzeigen</a><ul><li><a href=#erstellen-der-messagescomponent>Erstellen der <code>MessagesComponent</code></a></li><li><a href=#erstelle-den-messageservice>Erstelle den <code>MessageService</code></a></li><li><a href=#injiziere-ihn-in-den-heroservice>Injiziere ihn in den <code>HeroService</code>.</a></li><li><a href=#senden-einer-nachricht-von-heroservice>Senden einer Nachricht von <code>HeroService</code></a></li><li><a href=#anzeige-der-nachricht-von-heroservice>Anzeige der Nachricht von <code>HeroService</code></a></li><li><a href=#bindung-an-den-messageservice>Bindung an den <code>MessageService</code></a></li></ul></li><li><a href=#hinzufügen-zusätzlicher-nachrichten-zum-heldendienst>Hinzufügen zusätzlicher Nachrichten zum Heldendienst</a></li><li><a href=#a-idfinal-code-reviewaabschließende-code-überprüfung><a id=final-code-review></a>Abschließende Code-Überprüfung</a></li><li><a href=#zusammenfassung>Zusammenfassung</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/web/>Web</a></li><li class=breadcrumb-item><a href=/docs/web/angular/>Angular</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/web/angular/05_5_services_hinzuf%C3%BCgen/>Services</a></li></ol></nav><div class=td-content><h1>Services</h1><h1 id=dienste-hinzufügen>Dienste hinzufügen</h1><p>Die Tour of Heroes <code>HeroesComponent</code> holt sich derzeit falsche Daten und zeigt sie an.</p><p>Nach dem Refactoring in diesem Tutorial wird <code>HeroesComponent</code> schlank sein und sich auf die Unterstützung der Ansicht konzentrieren.
Es wird auch einfacher sein, Unit-Tests mit einem Mock-Service durchzuführen.</p><blockquote><p>Die Beispielanwendung, die auf dieser Seite beschrieben wird, finden Sie unter <a href=https://angular.io/generated/live-examples/toh-pt4/stackblitz.html>dieser Seite</a>.</p></blockquote><h2 id=warum-dienste>Warum Dienste</h2><p>Komponenten sollten keine Daten direkt abrufen oder speichern und schon gar nicht wissentlich gefälschte Daten präsentieren.
Du solltest dich auf die Darstellung von Daten konzentrieren und den Datenzugriff an einen Dienst delegieren.</p><p>In diesem Tutorial wirst du einen <code>HeroService</code> erstellen, den alle Anwendungsklassen verwenden können, um Helden zu erhalten.
Anstatt diesen Dienst mit dem <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new>Schlüsselwort <code>New</code></a> zu erstellen,
wirst du dich auf Angular <a href=https://angular.io/guide/dependency-injection><em>dependency injection</em></a> beziehen
um ihn in den <code>HeroesComponent</code>-Konstruktor zu injizieren.</p><p>Dienste sind eine großartige Möglichkeit, Informationen zwischen Klassen auszutauschen, die sich <em>nicht kennen</em>.
Du erstellst einen <code>MessageService</code> und injizieren ihn an zwei Stellen.</p><ol><li>Injektion in HeroService, der den Dienst verwendet, um eine Nachricht zu senden.</li><li>Injizieren in MessagesComponent, das diese Nachricht anzeigt und auch die ID anzeigt, wenn der Benutzer auf einen Helden klickt.</li></ol><h2 id=erstelle-den-heroservice>Erstelle den <code>HeroService</code></h2><p>Erstelle mit dem Angular CLI einen Dienst namens <code>Hero</code>.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>  ng generate service hero
</code></pre></td></tr></table></div></div><p>Der Befehl erzeugt eine Skelettklasse <code>HeroService</code> in <code>src/app/hero.service.ts</code> wie folgt:</p><p><code>src/app/hero.service.ts (new service)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Injectable</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@angular/core&#39;</span>;

<span style=color:#66d9ef>@Injectable</span>({
  <span style=color:#a6e22e>providedIn</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;root&#39;</span>,
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HeroService</span> {

  <span style=color:#66d9ef>constructor</span>() { }

}
</code></pre></td></tr></table></div></div><h3 id=injectablehttpsangularioapicoreinjectable-dienste><a href=https://angular.io/api/core/Injectable><code>@Injectable()</code></a> Dienste</h3><p>Beachte, dass der neue Dienst das Angular <code>Injectable</code> Symbol importiert und die Klasse mit dem
die Klasse mit dem Dekorator <code>@Injectable()</code> annotiert. Dies kennzeichnet die Klasse als eine, die am <em>dependency injection system</em> teilnimmt. Die Klasse <code>HeroService</code> wird einen injizierbaren Dienst bereitstellen, und sie kann auch ihre eigenen injizierten Abhängigkeiten haben.
Sie hat noch keine Abhängigkeiten, aber <a href=#inject-message-service>sie wird bald eine haben</a>.</p><p>Der <code>@Injectable()</code> Dekorator akzeptiert ein Metadaten Objekt für den Dienst, auf die gleiche Weise wie der <code>@Component()</code> Dekorator es für Ihre Komponentenklassen tat.</p><h3 id=heldendaten-erhalten>Heldendaten erhalten</h3><p>Der <code>HeroService</code> kann Hero-Daten von überall her bekommen—ein Web-Service, lokaler Speicher oder eine Mock-Datenquelle.</p><p>Wenn du den Datenzugriff aus den Komponenten entfernst, kannst du die Meinung über die Implementierung jederzeit ändern, ohne die Komponenten zu berühren.</p><p>Die Implementierung in <em>diesem</em> Tutorial wird weiterhin <em>mock heroes</em> liefern.</p><p>Importiere den <code>Hero</code> und <code>HEROES</code>.</p><p><code>src/app/hero.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Hero</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;./hero&#39;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>HEROES</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;./mock-heroes&#39;</span>;
</code></pre></td></tr></table></div></div><p>Füge eine Methode <code>getHeroes</code> hinzu, um die <em>mock heroes</em> zurückzugeben.</p><p><code>src/app/hero.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Hero</span>[] {
  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>HEROES</span>;
}
</code></pre></td></tr></table></div></div><h2 id=bereitstellen-des-heroservice>Bereitstellen des <code>HeroService</code></h2><p>Du musst den <code>HeroService</code> für das Dependency Injection System verfügbar machen
bevor Angular ihn in die <code>HeroesComponent</code> <em>injizieren</em> kann, indem ein <em>Provider</em> registriert wird. Ein Provider ist etwas, das einen Dienst erstellen oder liefern kann; in diesem Fall instanziiert er die <code>HeroService</code> Klasse, um den Dienst bereitzustellen.</p><p>Um sicherzustellen, dass der <code>HeroService</code> diesen Dienst bereitstellen kann, registriere ihn
mit dem <em>injector</em>.</p><p>Standardmäßig registriert der Angular CLI-Befehl <code>ng generate service</code> einen Provider mit dem <em>root injector</em> für deinen Service, indem er Provider-Metadaten, also <code>providedIn: 'root'</code> in den <code>@Injectable()</code> Dekorator einfügt.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>@Injectable</span>({
  <span style=color:#a6e22e>providedIn</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;root&#39;</span>,
})
</code></pre></td></tr></table></div></div><p>Wenn man den Dienst auf der Root-Ebene bereitstellt, erstellt Angular eine einzelne, gemeinsame Instanz von <code>HeroService</code> und injiziert sie in jede Klasse, die danach fragt.
Die Registrierung des Providers in den <code>@Injectable</code>-Metadaten erlaubt es Angular auch, eine Anwendung zu optimieren, indem der Service entfernt wird, wenn er doch nicht gebraucht wird.</p><blockquote><p>Um mehr über Provider zu erfahren, lese den Abschnitt <a href=https://angular.io/guide/providers>Providers</a>.
Weitere Informationen über Injektoren findest du im <a href=https://angular.io/guide/dependency-injection>Dependency Injection guide</a>.</p></blockquote><p>Der <code>HeroService</code> ist nun bereit, in die <code>HeroesComponent</code> eingebunden zu werden.</p><p><img src=/images/hint.png alt=asset> Sofern Git Bash nicht gewählt werden kann, könnte es daran liegen, dass du die IDE neustarten musst.
Dies ist ein vorläufiges Codebeispiel, das es Ihnen ermöglicht, den <code>HeroService</code> bereitzustellen und zu verwenden. An diesem Punkt wird sich der Code vom <code>HeroService</code> in der <a href=#final-code-review>&ldquo;final code review&rdquo;</a> unterscheiden.</p><h2 id=update-heroescomponent>Update <code>HeroesComponent</code></h2><p>Öffne die Klassendatei <code>HeroesComponent</code>.</p><p>Lösche den <code>HEROES</code>-Import, da du diesen nicht mehr benötigst.
Importiere stattdessen den <code>HeroService</code>.</p><p><code>src/app/heroes/heroes.component.ts (import HeroService)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>HeroService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../hero.service&#39;</span>;
</code></pre></td></tr></table></div></div><p>Ersetze die Definition der Eigenschaft &ldquo;heroes&rdquo; durch eine Deklaration.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>heroes</span>: <span style=color:#66d9ef>Hero</span>[] <span style=color:#f92672>=</span> [];
</code></pre></td></tr></table></div></div><h3 id=a-idinject-message-serviceainject-the-heroservice><a id=#inject-message-service></a>Inject the <code>HeroService</code></h3><p>Füge einen privaten <code>heroService</code> Parameter vom Typ <code>HeroService</code> zum Konstruktor hinzu.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>heroService</span>: <span style=color:#66d9ef>HeroService</span>) {}
</code></pre></td></tr></table></div></div><p>Der Parameter definiert gleichzeitig eine private <code>heroService</code>-Eigenschaft und identifiziert sie als <code>HeroService</code>-Injektionsstelle.</p><p>Wenn Angular eine <code>HeroesComponent</code> erstellt, setzt das <code>Dependency Injection</code> System
setzt den <code>heroService</code> Parameter auf die Singleton Instanz von <code>HeroService</code>.</p><h3 id=hinzufügen-von-getheroes>Hinzufügen von <code>getHeroes()</code></h3><p>Erstellen eine Methode, um die Helden aus dem Service abzurufen.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
  <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroService</span>.<span style=color:#a6e22e>getHeroes</span>();
}
</code></pre></td></tr></table></div></div><h3 id=aufruf-in-ngoninit>Aufruf in <code>ngOnInit()</code></h3><p>Obwohl du <code>getHeroes()</code> im Konstruktor aufrufen kannst, ist das nicht die beste Praxis.</p><p>Reserviere den Konstruktor für eine minimale Initialisierung, wie z.B. die Verknüpfung von Konstruktorparametern mit Eigenschaften.
Der Konstruktor sollte <em>nichts</em> tun.
Er sollte sicherlich keine Funktion aufrufen, die HTTP-Anfragen an einen entfernten Server stellt, wie es ein <em>echter</em> Datendienst tun würde.</p><p>Rufe stattdessen <code>getHeroes()</code> innerhalb des <a href=https://angular.io/guide/lifecycle-hooks><em>ngOnInit lifecycle hook</em></a> auf und
Angular <code>ngOnInit()</code> zu einem geeigneten Zeitpunkt <em>nach</em> der Erstellung einer <code>HeroesComponent</code>-Instanz aufrufen lassen.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>ngOnInit() {</span>
  <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getHeroes</span>();
}
</code></pre></td></tr></table></div></div><h3 id=sehen-wie-es-läuft>Sehen, wie es läuft</h3><p>Nachdem der Browser aktualisiert wurde, sollte die Anwendung wie zuvor laufen,
Es zeigt eine Liste der Helden und eine Detailansicht des Helden an, wenn du auf den Namen eines Helden klickst.</p><h2 id=beobachtbare-daten>Beobachtbare Daten</h2><p>Die Methode <code>HeroService.getHeroes()</code> hat eine <em>synchrone Signatur</em>,
was bedeutet, dass der <code>HeroService</code> Helden synchron abrufen kann.
Die <code>HeroesComponent</code> verbraucht das <code>getHeroes()</code> Ergebnis
als ob Helden synchron geholt werden könnten.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroService</span>.<span style=color:#a6e22e>getHeroes</span>();
</code></pre></td></tr></table></div></div><p>Dies wird in einer echten Anwendung nicht funktionieren.
Im Moment kommst du noch damit durch, weil der Dienst derzeit <em>mock heroes</em> zurückgibt.
Aber bald wird die Anwendung Helden von einem entfernten Server abrufen,
was von Natur aus ein <em>asynchroner</em> Vorgang ist.</p><p>Der <code>HeroService</code> muss auf die Antwort des Servers warten,
<code>getHeroes()</code> kann nicht sofort mit Heldendaten zurückkehren,
und der Browser wird nicht blockieren, während der Dienst wartet.</p><p>Die Funktion <code>HeroService.getHeroes()</code> muss eine <em>asynchrone Signatur</em> irgendeiner Art haben.</p><p>In diesem Tutorial wird <code>HeroService.getHeroes()</code> ein <code>Observable</code> zurückgeben
zurück, weil es schließlich die Angular-Methode <code>HttpClient.get</code> verwenden wird, um die Helden zu holen
und <a href=https://angular.io/guide/http><code>HttpClient.get()</code> gibt ein <code>Observable</code> zurück</a>.</p><h3 id=observable-heroservice>Observable <code>HeroService</code></h3><p>Observable" ist eine der Schlüsselklassen in der <a href=https://rxjs.dev/>RxJS-Bibliothek</a>.</p><p>In einem <a href=05_7_Data_Server.md>späteren Tutorial über HTTP</a> wirst du lernen, dass die <code>HttpClient</code>-Methoden von Angular RxJS <code>Observable</code> zurückgeben.
In diesem Tutorial wirst du das Abrufen von Daten vom Server mit der RxJS-Funktion &ldquo;of()&rdquo; simulieren.</p><p>Öffne die Datei <code>HeroService</code> und importiere die Symbole <code>Observable</code> und <code>of</code> von RxJS.</p><p><code>src/app/hero.service.ts (Observable imports)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Observable</span>, <span style=color:#66d9ef>of</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;rxjs&#39;</span>;
</code></pre></td></tr></table></div></div><p>Ersetze die Methode <code>getHeroes()</code> durch die folgende:</p><p><code>src/app/hero.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Observable</span>&lt;<span style=color:#f92672>Hero</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>of</span>(<span style=color:#a6e22e>HEROES</span>);
  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>heroes</span>;
}
</code></pre></td></tr></table></div></div><p><code>of(HEROES)</code> gibt ein <code>Observable&lt;Hero[]></code> zurück, das <em>einen einzelnen Wert</em>, das Array der Mock-Helden, ausgibt.</p><blockquote><p>Im <a href=05_7_Data_Server.md>HTTP-Tutorial</a> rufe <code>HttpClient.get&lt;Hero[]>()</code> auf, das ebenfalls ein <code>Observable&lt;Hero[]></code> zurückgibt, das <em>einen einzelnen Wert</em>, ein Array von Helden aus dem Body der HTTP-Antwort, ausgibt.</p></blockquote><h3 id=abonnieren-in-heroescomponent>Abonnieren in <code>HeroesComponent</code></h3><p>Die Methode <code>HeroService.getHeroes</code> gab früher einen <code>Hero[]</code> zurück.
Jetzt gibt sie ein <code>Observable&lt;Hero[]></code> zurück.</p><p>Du musst dich an diesen Unterschied in <code>HeroesComponent</code> anpassen.</p><p>Suche die Methode <code>getHeroes</code> und ersetze sie durch den folgenden Code.
<code>heroes.component.ts (Observable)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
  <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroService</span>.<span style=color:#a6e22e>getHeroes</span>()
      .<span style=color:#a6e22e>subscribe</span>(<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>heroes</span>);
}
</code></pre></td></tr></table></div></div><p><code>heroes.component.ts (Original)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
  <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroService</span>.<span style=color:#a6e22e>getHeroes</span>();
}
</code></pre></td></tr></table></div></div><p><code>Observable.subscribe()</code> ist der entscheidende Unterschied.</p><p>Die bisherige Version weist der Eigenschaft <code>heroes</code> der Komponente ein Array von Helden zu.
Die Zuweisung erfolgt <em>synchron</em>, als ob der Server die Helden sofort zurückgeben könnte
oder der Browser könnte die Benutzeroberfläche einfrieren, während er auf die Antwort des Servers wartete.</p><p>Das <em>funktioniert</em> aber nicht, wenn der <code>HeroService</code> tatsächlich Anfragen an einen entfernten Server stellt.</p><p>Die neue Version wartet darauf, dass der <code>Observable</code> das Array der Helden ausgibt—was
könnte jetzt oder in einigen Minuten geschehen.
Die Methode <code>subscribe()</code> übergibt das ausgegebene Array an den Callback,
der die Eigenschaft <code>Helden</code> der Komponente setzt.</p><p>Dieser asynchrone Ansatz wird <em>funktionieren</em> wenn
der <code>HeroService</code> Helden vom Server anfordert.</p><h2 id=nachrichten-anzeigen>Nachrichten anzeigen</h2><p>Dieser Abschnitt führt dich durch die folgenden Schritte:</p><ul><li>Hinzufügen einer <code>MessagesComponent</code>, die Anwendungsnachrichten am unteren Rand des Bildschirms anzeigt</li><li>Erstellen eines injizierbaren, app-weiten <code>MessageService</code> zum Senden von Nachrichten, die angezeigt werden sollen</li><li>Injizieren von <code>MessageService</code> in den <code>HeroService</code>.</li><li>Anzeige einer Nachricht, wenn <code>HeroService</code> erfolgreich Helden holt</li></ul><h3 id=erstellen-der-messagescomponent>Erstellen der <code>MessagesComponent</code></h3><p>Verwende die CLI, um die <code>MessagesComponent</code> zu erstellen.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>  ng generate component messages
</code></pre></td></tr></table></div></div><p>Das CLI erstellt die Komponentendateien im Ordner <code>src/app/messages</code> und deklariert die <code>MessagesComponent</code> im <code>AppModule</code>.</p><p>Ändere das Template <code>AppComponent</code>, um die erzeugte <code>MessagesComponent</code> anzuzeigen.</p><p><code>src/app/app.component.html</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>h1</span>&gt;{{title}}&lt;/<span style=color:#f92672>h1</span>&gt;
&lt;<span style=color:#f92672>app-heroes</span>&gt;&lt;/<span style=color:#f92672>app-heroes</span>&gt;
&lt;<span style=color:#f92672>app-messages</span>&gt;&lt;/<span style=color:#f92672>app-messages</span>&gt;
</code></pre></td></tr></table></div></div><p>Du solltest den Standardabsatz von <code>MessagesComponent</code> unten auf der Seite sehen.</p><h3 id=erstelle-den-messageservice>Erstelle den <code>MessageService</code></h3><p>Verwende die CLI, um den <code>MessageService</code> in <code>src/app</code> zu erstellen.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>  ng generate service message
</code></pre></td></tr></table></div></div><p>Öffne <code>MessageService</code> und ersetze dessen Inhalt durch den folgenden.</p><p><code>src/app/message.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Injectable</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@angular/core&#39;</span>;

<span style=color:#66d9ef>@Injectable</span>({
  <span style=color:#a6e22e>providedIn</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;root&#39;</span>,
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MessageService</span> {
  <span style=color:#a6e22e>messages</span>: <span style=color:#66d9ef>string</span>[] <span style=color:#f92672>=</span> [];

  <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>string</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messages</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>message</span>);
  }

  <span style=color:#a6e22e>clear() {</span>
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messages</span> <span style=color:#f92672>=</span> [];
  }
}
</code></pre></td></tr></table></div></div><p>Der Dienst stellt seinen Cache von <code>Nachrichten</code> und zwei Methoden zur Verfügung: eine, um <code>Add()</code> eine Nachricht zum Cache hinzuzufügen und eine andere, um <code>Clear()</code> den Cache zu löschen.</p><h3 id=injiziere-ihn-in-den-heroservice>Injiziere ihn in den <code>HeroService</code>.</h3><p>In <code>HeroService</code> importiere den <code>MessageService</code>.</p><p><code>src/app/hero.service.ts (import MessageService)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>MessageService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;./message.service&#39;</span>;
</code></pre></td></tr></table></div></div><p>Ändere den Konstruktor mit einem Parameter, der eine private Eigenschaft <code>messageService</code> deklariert.
Angular wird das Singleton <code>MessageService</code> in diese Eigenschaft injizieren
wenn es den <code>HeroService</code> erstellt.</p><p><code>src/app/hero.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>messageService</span>: <span style=color:#66d9ef>MessageService</span>) { }
</code></pre></td></tr></table></div></div><blockquote><p>Dies ist ein typisches &ldquo;<em>Service-in-Service</em>"-Szenario:
Man injiziert den <code>MessageService</code> in den <code>HeroService</code>, der wiederum in die <code>HeroesComponent</code> injiziert wird.</p></blockquote><h3 id=senden-einer-nachricht-von-heroservice>Senden einer Nachricht von <code>HeroService</code></h3><p>Ändere die Methode <code>getHeroes()</code>, um eine Nachricht zu senden, wenn die Helden abgeholt werden.</p><p><code>src/app/hero.service.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Observable</span>&lt;<span style=color:#f92672>Hero</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>of</span>(<span style=color:#a6e22e>HEROES</span>);
  <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageService</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#39;HeroService: fetched heroes&#39;</span>);
  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>heroes</span>;
}
</code></pre></td></tr></table></div></div><h3 id=anzeige-der-nachricht-von-heroservice>Anzeige der Nachricht von <code>HeroService</code></h3><p>Die <code>MessagesComponent</code> sollte alle Nachrichten anzeigen,
einschließlich der Nachricht, die vom <code>HeroService</code> gesendet wird, wenn er Helden holt.</p><p>Öffne <code>MessagesComponent</code> und importiere den <code>MessageService</code>.</p><p><code>src/app/messages/messages.component.ts (import MessageService)</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>MessageService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../message.service&#39;</span>;
</code></pre></td></tr></table></div></div><p>Modifiziere den Konstruktor mit einem Parameter, der eine <strong>öffentliche</strong> Eigenschaft <code>messageService</code> deklariert.
Angular wird das Singleton <code>MessageService</code> in diese Eigenschaft injizieren
wenn es die <code>MessagesComponent</code> erstellt.</p><p><code>src/app/messages/messages.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>messageService</span>: <span style=color:#66d9ef>MessageService</span>) {}
</code></pre></td></tr></table></div></div><p>Die Eigenschaft <code>messageService</code> <strong>muss öffentlich sein</strong>, weil du in im Template daran binden wirst.</p><p><img src=/images/hint.png alt=asset> Angular bindet nur an <em>öffentliche</em> Komponenteneigenschaften.</p><h3 id=bindung-an-den-messageservice>Bindung an den <code>MessageService</code></h3><p>Ersetze das CLI-generierte <code>MessagesComponent</code> Template durch das folgende.</p><p><code>src/app/messages/messages.component.html</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#960050;background-color:#1e0010>*</span><span style=color:#a6e22e>ngIf</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;messageService.messages.length&#34;</span>&gt;

  &lt;<span style=color:#f92672>h2</span>&gt;Messages&lt;/<span style=color:#f92672>h2</span>&gt;
  &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;clear&#34;</span>
          <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>click</span><span style=color:#960050;background-color:#1e0010>)=&#34;</span><span style=color:#a6e22e>messageService</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>clear</span><span style=color:#960050;background-color:#1e0010>()&#34;</span>&gt;Clear messages&lt;/<span style=color:#f92672>button</span>&gt;
  &lt;<span style=color:#f92672>div</span> <span style=color:#960050;background-color:#1e0010>*</span><span style=color:#a6e22e>ngFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;let message of messageService.messages&#39;</span>&gt; {{message}} &lt;/<span style=color:#f92672>div</span>&gt;

&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></td></tr></table></div></div><p>Dieses Template bindet direkt an den <code>messageService</code> der Komponente.</p><ul><li><p>Das <code>*ngIf</code> zeigt den Nachrichtenbereich nur an, wenn es Nachrichten zu zeigen gibt.</p></li><li><p>Ein <code>*ngFor</code> stellt die Liste der Nachrichten in wiederholten <code>&lt;div></code> Elementen dar.</p></li><li><p>Ein Angular <a href=https://angular.io/guide/event-binding>event-binding</a> bindet das Click-Ereignis der Schaltfläche
an <code>MessageService.clear()</code>.</p></li></ul><p>Die Nachrichten werden besser aussehen, wenn du die privaten CSS-Stile zu <code>messages.component.css</code> hinzufügst
wie in einem der <a href=#final-code-review>&ldquo;final code review&rdquo;</a> Tabs unten aufgeführt.</p><h2 id=hinzufügen-zusätzlicher-nachrichten-zum-heldendienst>Hinzufügen zusätzlicher Nachrichten zum Heldendienst</h2><p>Das folgende Beispiel zeigt, wie man jedes Mal, wenn der Benutzer auf einen Hero klickt, eine Nachricht sendet und anzeigt.
einen Hero klickt, eine Nachricht sendet und anzeigt, die einen Verlauf der Auswahl des Benutzers anzeigt. Dies wird hilfreich sein, wenn du zum
nächsten Abschnitt über <a href=tutorial/toh-pt5>Routing</a> liest.</p><p><code>src/app/heroes/heroes.component.ts</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Component</span>, <span style=color:#a6e22e>OnInit</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@angular/core&#39;</span>;

<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Hero</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../hero&#39;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>HeroService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../hero.service&#39;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>MessageService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../message.service&#39;</span>;

<span style=color:#66d9ef>@Component</span>({
  <span style=color:#a6e22e>selector</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;app-heroes&#39;</span>,
  <span style=color:#a6e22e>templateUrl</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;./heroes.component.html&#39;</span>,
  <span style=color:#a6e22e>styleUrls</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;./heroes.component.css&#39;</span>]
})
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HeroesComponent</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>OnInit</span> {

  <span style=color:#a6e22e>selectedHero?</span>: <span style=color:#66d9ef>Hero</span>;

  <span style=color:#a6e22e>heroes</span>: <span style=color:#66d9ef>Hero</span>[] <span style=color:#f92672>=</span> [];

  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>heroService</span>: <span style=color:#66d9ef>HeroService</span>, <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>messageService</span>: <span style=color:#66d9ef>MessageService</span>) { }

  <span style=color:#a6e22e>ngOnInit() {</span>
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getHeroes</span>();
  }

  <span style=color:#a6e22e>onSelect</span>(<span style=color:#a6e22e>hero</span>: <span style=color:#66d9ef>Hero</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>selectedHero</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hero</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>messageService</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>`HeroesComponent: Selected hero id=</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>hero</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
  }

  <span style=color:#a6e22e>getHeroes</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroService</span>.<span style=color:#a6e22e>getHeroes</span>()
        .<span style=color:#a6e22e>subscribe</span>(<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>heroes</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>heroes</span>);
  }
}
</code></pre></td></tr></table></div></div><p>Aktualisiere den Browser, um die Liste der Helden zu sehen, und scrolle nach unten, um die
Nachrichten vom HeroService zu sehen. Jedes Mal, wenn du auf einen Helden klickst, erscheint eine neue Nachricht, die die Auswahl
darstellt. Verwende die Schaltfläche <strong>Nachrichten löschen</strong>, um den Nachrichtenverlauf zu löschen.</p><h2 id=a-idfinal-code-reviewaabschließende-code-überprüfung><a id=final-code-review></a>Abschließende Code-Überprüfung</h2><p><a href=../assets/files/05_5.zip download>Hier</a> oder <a href=../assets/files/05_5>hier</a>
sind die auf dieser Seite besprochenen Codedateien.</p><h2 id=zusammenfassung>Zusammenfassung</h2><ul><li>Du hast den Datenzugriff auf die Klasse <code>HeroService</code> umstrukturiert.</li><li>Du hast den <code>HeroService</code> als <em>Provider</em> seines Dienstes auf der Root-Ebene registriert, so dass er überall in der Anwendung injiziert werden kann.</li><li>Du hast <a href=https://angular.io/guide/dependency-injection>Angular Dependency Injection</a> verwendet, um ihn in eine Komponente zu injizieren.</li><li>Du hast der <em>get data</em> Methode von <code>HeroService</code> eine asynchrone Signatur gegeben.</li><li>Du hast <code>Observable</code> und die RxJS <em>Observable</em> Bibliothek entdeckt.</li><li>Du hast RxJS <code>of()</code> benutzt, um ein Observable von Mock-Helden (<code>Observable&lt;Hero[]></code>) zurückzugeben.</li><li>Der Lifecycle-Hook <code>ngOnInit</code> der Komponente ruft die Methode <code>HeroService</code> auf, nicht den Konstruktor.</li><li>Du hast einen <code>MessageService</code> für lose gekoppelte Kommunikation zwischen Klassen erstellt.</li><li>Der <code>HeroService</code>, der in eine Komponente injiziert wird, wird mit einem anderen injizierten Dienst erstellt,
<code>MessageService</code>.</li></ul><div class="text-muted mt-5 pt-3"><div class=row><div class=col-sm><a href=/docs/web/angular/05_4_feature_component/ data-toggle=tooltip title=Komponenten><i class="fa fa-arrow-circle-left"></i>Previous</a></div><div class="col-sm text-right"><a href=/docs/web/angular/05_6_navigation_routing/ data-toggle=tooltip title="Navigation mit Routing hinzufügen">Next <i class="fa fa-arrow-circle-right"></i></a></div></div></div><div class="text-muted mt-5 pt-3 border-top">Last modified March 14, 2022</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/it-ninjas/labs><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 it-ninjas.ch All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js integrity=sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s crossorigin=anonymous></script><script src=/js/main.min.906bd02f142be20eb94bb49539a18a3e93ec0b9ff5f5dcf3796eed436a6103d2.js integrity="sha256-kGvQLxQr4g65S7SVOaGKPpPsC5/19dzzeW7tQ2phA9I=" crossorigin=anonymous></script><script src=/js/site.min.a517e3df23fcbad34c0ce265f8aeaf120b7818a817326c43828c698b5d437ea6.js integrity="sha256-pRfj3yP8utNMDOJl+K6vEgt4GKgXMmxDgoxpi11DfqY=" crossorigin=anonymous></script></body></html>